<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Main</title>
    <style>
      html,head,body { padding:10px; margin:0; }
      body { font-family: calibri, helvetica, arial, sans-serif; }

      .subtitle {
        margin-bottom: 10px;
      }

      .subtitle input {
        float: left;
      }

      .subtitle p {
        margin: 0 0 0 24px;
      }

      .subtitle .native {
        font-size: 80%;
        color: grey;
      }
    </style>
    <script src="elm.js"></script>
  </head>
  <body>
    <script type="text/javascript">
      window.app = Elm.fullscreen(Elm.Main);
      app.ports.playerAction.subscribe(playerAction);

      function playerAction(action) {
        console.log("Player action:", action)
        var videos = document.getElementsByTagName('video');
        if (videos.length == 1) {
          var vid = videos[0];
          var cmd = action.command;
          if (cmd == "seek") {
            vid.currentTime = action.value;
          } else if (cmd == "play") {
            vid.play();
          } else if (cmd == "pause") {
            vid.pause();
          }
        }
      }
    </script>
  </body>
</html>
